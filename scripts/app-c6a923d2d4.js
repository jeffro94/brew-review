!function(){"use strict";angular.module("app.components",["app"])}(),function(){"use strict";function e(){function e(){}var a={restrict:"E",templateUrl:"app/components/navbar/navbar.html",controller:e,controllerAs:"vm",bindToController:!0};return a}angular.module("app.components").directive("navbar",e)}(),function(){"use strict";angular.module("app.main",["app"])}(),function(){"use strict";function e(e){e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"vm",resolve:{shops:["brewService",function(e){return e.getShops()}]}})}e.$inject=["$stateProvider"],angular.module("app.main").config(e)}(),function(){"use strict";function e(e){var a=this;a.shops=e}e.$inject=["shops"],angular.module("app.main").controller("MainController",e)}(),function(){"use strict";angular.module("app.edit",["app"])}(),function(){"use strict";function e(e){e.state("edit",{url:"/edit/{shopId}",controller:"EditController",controllerAs:"vm",templateUrl:"app/edit/edit.html",resolve:{shop:["brewService","$stateParams",function(e,a){return e.getShop(a.shopId)}]}})}e.$inject=["$stateProvider"],angular.module("app.edit").config(e)}(),function(){"use strict";function e(e,a,i,s,t,n){var o=this;o.shop=i,o.submitForm=function(e){e&&(o.loadingPromise=n(function(){a.updateShop(o.shop).then(function(){t.success("Shop successfully updated!")},function(e){s.error("Error updating shop.\n"+angular.toJson(e.data,!0))})},2e3))},o["delete"]=function(){o.loadingPromise=a.deleteShop(o.shop.key).then(function(){t.success("Shop successfully deleted!")},function(e){s.error("Error deleting shop.\n"+angular.toJson(e.data,!0))})}}e.$inject=["$scope","brewService","shop","$log","toastr","$timeout"],angular.module("app.edit").controller("EditController",e)}(),function(){"use strict";angular.module("app.add",["app"])}(),function(){"use strict";function e(e){e.state("add",{url:"/add",controller:"AddController",controllerAs:"vm",templateUrl:"app/add/add.html"})}e.$inject=["$stateProvider"],angular.module("app.add").config(e)}(),function(){"use strict";function e(e,a,i,s){var t=this;t.shop={},t.submitForm=function(e){e&&a.addShop(t.shop).then(function(){s.success("Shop successfully added!")},function(e){i.error("Oh no, there was an error adding the shop.\n"+angular.toJson(e.data,!0))})}}e.$inject=["$scope","brewService","$log","toastr"],angular.module("app.add").controller("AddController",e)}(),function(){"use strict";angular.module("app",["ngMessages","ui.router","mm.foundation","toastr","angularPromiseButtons","app.components","app.main","app.add","app.edit"])}(),function(){"use strict";function e(e){e.debug("runBlock end")}e.$inject=["$log"],angular.module("app").run(e)}(),function(){"use strict";function e(e,a){a.otherwise("/")}e.$inject=["$stateProvider","$urlRouterProvider"],angular.module("app").config(e)}(),function(){"use strict";angular.module("app")}(),function(){"use strict";function e(e,a){e.debugEnabled(!0),a.allowHtml=!0,a.timeOut=3e3,a.positionClass="toast-top-right"}e.$inject=["$logProvider","toastrConfig"],angular.module("app").config(e)}(),function(){"use strict";function e(e,a){function i(){function i(e){return e.data}function s(a){e.error("XHR Failed for getShops.\n"+angular.toJson(a.data,!0))}return a.get("https://brewapi.azurewebsites.net/api/coffeeshop/").then(i)["catch"](s)}function s(i){function s(e){return e.data}function t(a){e.error("XHR Failed for getShop.\n"+angular.toJson(a.data,!0))}return a.get("https://brewapi.azurewebsites.net/api/coffeeshop/"+i).then(s)["catch"](t)}function t(i){function s(){return"yes"}function t(a){e.error("XHR Failed for updateShop.\n"+angular.toJson(a.data,!0))}var n={method:"PATCH",url:"https://brewapi.azurewebsites.net/api/coffeeshop/"+i.key,headers:{"Content-Type":"application/json"},data:angular.toJson(i,!1)};return a(n).then(s)["catch"](t)}function n(i){function s(){return"yes"}function t(a){e.error("XHR Failed for addShop.\n"+angular.toJson(a.data,!0))}var n={method:"POST",url:"https://brewapi.azurewebsites.net/api/coffeeshop/",headers:{"Content-Type":"application/json"},data:angular.toJson(i,!1)};return a(n).then(s)["catch"](t)}function o(i){function s(){return"yes"}function t(a){e.error("XHR Failed for deleteShop.\n"+angular.toJson(a.data,!0))}var n={method:"DELETE",url:"https://brewapi.azurewebsites.net/api/coffeeshop/"+i};return a(n).then(s)["catch"](t)}var r={getShops:i,getShop:s,updateShop:t,addShop:n,deleteShop:o};return r}e.$inject=["$log","$http"],angular.module("app").factory("brewService",e)}(),angular.module("app").run(["$templateCache",function(e){e.put("app/add/add.html",'<h1 class=brew-title>Add Shop</h1><form name=addForm ng-submit=vm.submitForm(addForm.$valid) novalidate><div class=row><div class="medium-3 columns"><label for=name class=right ng-class="{ \'is-invalid-label\': addForm.name.$invalid && addForm.$submitted }">Name</label></div><div class="medium-9 columns"><input type=text id=name name=name ng-model=vm.shop.name required maxlength=80 ng-class="{ \'is-invalid-input\': addForm.name.$invalid && addForm.$submitted }"><div class=messages ng-messages=addForm.name.$error ng-show="addForm.name.$invalid && addForm.$submitted"><span class="message form-error is-visible" ng-message=required>Required</span></div></div></div><div class=row><div class="medium-3 columns"><label for=address class=right ng-class="{ \'is-invalid-label\': addForm.address.$invalid && addForm.$submitted }">Address</label></div><div class="medium-9 columns"><input type=text id=address name=address ng-model=vm.shop.address required maxlength=255 ng-class="{ \'is-invalid-input\': addForm.address.$invalid && addForm.$submitted }"><div class=messages ng-messages=addForm.address.$error ng-show="addForm.address.$invalid && addForm.$submitted"><small class="message form-error is-visible" ng-message=required>Required</small></div></div></div><div class=row><div class="medium-3 columns"><label for=price class=right ng-class="{ \'is-invalid-label\': addForm.price.$invalid && addForm.$submitted }">Coffee Price</label></div><div class="medium-9 columns"><input type=text id=price name=price ng-model=vm.shop.mediumCoffeePrice required maxlength=255 ng-class="{ \'is-invalid-input\': addForm.price.$invalid && addForm.$submitted }"><div class=messages ng-messages=addForm.price.$error ng-show="addForm.price.$invalid && addForm.$submitted"><small class="message form-error is-visible" ng-message=required>Required</small></div></div></div><div class=row><div class="medium-3 columns"><label for=rating class=right ng-class="{ \'is-invalid-label\': addForm.rating.$invalid && addForm.$submitted }">Rating</label></div><div class="medium-9 columns"><input type=number id=rating name=rating ng-model=vm.shop.rating required ng-class="{ \'is-invalid-input\': addForm.rating.$invalid && addForm.$submitted }"><div class=messages ng-messages=addForm.rating.$error ng-show="addForm.rating.$invalid && addForm.$submitted"><small class="message form-error is-visible" ng-message=required>Required</small></div></div></div><div class="row form-actions"><div class="small-12 columns"><input type=submit value=Submit class=button></div></div></form>'),e.put("app/edit/edit.html",'<h1 class=brew-title>Edit Shop</h1><form name=editForm ng-submit=vm.submitForm(editForm.$valid) novalidate><div class=row><div class="medium-3 columns"><label for=name class=right>Name</label></div><div class="medium-9 columns"><input type=text id=name ng-model=vm.shop.name maxlength=80></div></div><div class=row><div class="medium-3 columns"><label for=address class=right>Address</label></div><div class="medium-9 columns"><input type=text id=address ng-model=vm.shop.address maxlength=255></div></div><div class=row><div class="medium-3 columns"><label for=price class=right>Coffee Price</label></div><div class="medium-9 columns"><input type=text id=price ng-model=vm.shop.mediumCoffeePrice maxlength=255></div></div><div class=row><div class="medium-3 columns"><label for=rating class=right>Rating</label></div><div class="medium-9 columns"><input type=number id=rating ng-model=vm.shop.rating></div></div><div class="row form-actions"><div class="small-12 columns"><div><button type=submit class=button promise-btn=vm.loadingPromise>Submit</button></div><div><button type=button class=button promise-btn=vm.loadingPromise ng-click=vm.delete()>Delete this shop</button></div></div></div></form>'),e.put("app/main/main.html",'<h1 class=brew-title>All Shops</h1><div class=row><div class="medium-7 small-8 columns"><strong>Name</strong></div><div class="medium-2 show-for-medium columns"><strong>Price</strong></div><div class="medium-3 small-4 columns"><strong>Rating</strong></div></div><div><div class=row ng-repeat="shop in vm.shops"><div class="medium-7 small-8 columns"><a ui-sref="edit({ shopId: shop.key })">{{ shop.name }}</a></div><div class="medium-2 show-for-medium columns">{{ shop.mediumCoffeePrice | currency }}</div><div class="medium-3 small-4 columns"><rating value=shop.rating max=5 readonly></rating></div></div></div><div class="row main-actions text-center"><div class="small-12 columns"><a ui-sref=add>Add a Shop</a></div></div>'),e.put("app/components/navbar/navbar.html","<div class=top-bar><div class=top-bar-left><div class=menu-text><a ui-sref=home>Brew Review</a></div></div></div>")}]);
//# sourceMappingURL=../maps/scripts/app-c6a923d2d4.js.map
